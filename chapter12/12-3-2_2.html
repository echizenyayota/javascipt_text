<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>String object</title>
</head>
<body>
    <div id = "hiragana"><p>犬は「わんわん」と鳴きました。<p></div>
    <div id = "katakana"></div>
    <script>
        var hiragana = document.getElementById('hiragana');
        var text = "犬は「わんわん」と鳴きました。";

        // ひらがなをカタカナに変換する
        var new_text = text.replace(/「[\u3041-\u3096]+」/, function(match) {
            var s = "";
            for (var i = 1; i < match.length-1; i++) {
                s += String.fromCharCode(match.charCodeAt(i) + 0x60);
            }
            console.log(match);
            console.log(match[0]);
            console.log(match[match.length - 1]);
            console.log(s);
            return match[0] + s + match[match.length - 1];
        });

        // katakanクラスに置換後の文字列を挿入
        function r () {
            return katakana.innerHTML = new_text;
        }

        r();
    </script>
</body>
</html>
